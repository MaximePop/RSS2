<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RSS Flux Eveille</title>
    <link rel="stylesheet" href="style.css" />
    <title>Automatic RSS Feeds</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/rss-parser/dist/rss-parser.min.js"></script>
    <script src="https://www.zotero.org/support/dev/client_api/citationstyleresults.js"></script>
    
    
  </head>
    <style>

body,
h1,
h2,
h3,
h4,
h5,
h6,
p,
a,
span,
div,
table,
th,
td {
  font-family: "Times New Roman", Times, serif;
}

body {
  background-color: #016633;
  color: #fff;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  opacity: 0;
  animation: fadeIn 1s ease-in-out forwards;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

      .navbar {
        background-color: #333; /* Dark gray background color */
        color: #fff; /* White text color */
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        width: 100%;
        text-decoration: none;
        margin-right: 10px;
        padding: 10px;
      }

      h1 {
        font-weight: bold; /* Make the title bold */
        margin-top: 30px;
      }

      .container {
        width: 100%;
        max-width: 1100px;
        margin-top: 20px;
        background-color: #fff; /* White background color */
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
    }



      th {
        text-align: left;
      }

      .category-title {
        font-weight: bold; /* Make the category title bold */
        margin: 10px 0; /* Add some margin below the category title */
        color: #000; /* Black text color for the category title */
      }

      .article-title {
        color: #0a6d00; /* Dark green color for the article title */
        text-decoration: none;
        transition: color 0.3s;
      }

      .article-title:hover {
        color: #076a00; /* Darker green color on hover */
      }

      .image-container {
        display: flex;
        justify-content: center;
        margin: 20px 0;
      }

      .image-container img {
        max-width: 100%;
        height: auto;
      }

      .footer {
        background-color: #333; /* Dark gray background color */
        color: #fff; /* White text color */
        padding: 10px;
        text-align: center;
        margin-top: 20px; /* Add margin to the top of the footer */
        width: 100%;
        transition: transform 0.3s;
    }

 
      .footer a {
        color: #fff; /* White text color for footer links */
        text-decoration: none;
      }

      .project-container {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
      }

      .project-container h2 {
        font-weight: bold;
      }

      .project-image {
        max-width: 200px;
        height: auto;
      }

    .left-image {
    position: absolute;
    top: 20px; /* Adjust the vertical position as needed */
    width: 100px; /* Adjust the width of the images */
    height: auto; /* Maintain aspect ratio */
  }

  .right-image {
    position: absolute;
    top: 20px; /* Adjust the vertical position as needed */
    width: 100px; /* Adjust the width of the images */
    height: auto; /* Maintain aspect ratio */
  }

  .left-image {
    left: 20px; /* Adjust the horizontal position as needed */
  }

  .right-image {
    right: 20px; /* Adjust the horizontal position as needed */
  }

  table {
    border-collapse: collapse;
    width: 100M;
    margin: 0 auto;
  }

  td {
    border: 1px solid black;
    text-align: center;
    padding: 5px;
  }

  /* Default styles for all screens */
  body {
    margin: 0;
    padding: 0;
  }

  /* Styles for wide screens (min-width: 1100px) */
  @media (min-width: 1100px) {
    body {
      max-width: 1100px;
      margin: 0 auto; /* Center the content horizontally */
    }
  }

  /* Styles for narrow screens (max-width: 960px) */
  @media (max-width: 960px) {
    body {
      max-width: 960px;
      margin: 0 auto; /* Center the content horizontally */
    }
  }

  body {
    font-family: "Times New Roman", Times, serif;
  }


  .container1 {
  background-color: #fff
  padding: 10px;
  text-align: center;
  margin-top: 20px;
  width: 100%;

    }


.button {
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
  border: none;
  color: #FFFFFF;
  text-align: center;
  font-size: 20px;
  padding: 10px;
  width: 200px;
  transition: all 0.5s;
  cursor: pointer;
  margin: 5px;
  position : relative;
}

.button span {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    font-weight: bold;
  }


.button span:after {
  position: absolute;
  opacity: 0;
  top: 0;
  right: -20px;
  transition: opacity 0.5s; /* Add transition for smooth fade-in effect */
}

.button:hover span:after {
  opacity: 1;
  right: 0;
}

.button:hover span {
  padding-right: 25px;
}


.button img {
    transition: transform 0.3s;
    
  }

  .button:hover img {
    transform: scale(1.1);
  }

ul#itemList1 {
      color: white !important;
    }

.section {
  margin-top: 20px;
  padding-top: 10px;
  border-top: none; /* Supprimer la bordure supérieure */
}


    h3 {
            color: #000;
            font-size: 18px;
            font-weight: bold;
            transition: transform 0.3s;
        }

        /* Effet d'hover */
        h3:hover {
            transform: scale(1.1);
        }

h4 {
  color:black;
  font-size: 50px;
}

.container2 {
        background-color: white;
        padding: 10px;
        text-align: center;
        margin-top: 20px;
        width: 100%;
        border: 2px solid #016633;
        border-style: solid; /* Ajoutez cette ligne pour spécifier le style de bordure */
      }

    .container2 {
      margin: 20px;
    }
    ul {
      list-style-type: none;
      padding: 0;
    }
    li {
      margin-bottom: 10px;
      font-size: 14px;
      color: black;
    }
    input[type="text"] {
      padding: 5px;
      font-size: 14px;
      margin-right: 10px;
    }
    button {
      padding: 5px 10px;
      font-size: 14px;
    }


.container3 {
  background-color: white;
  padding: 10px;
  text-align: center;
  margin-top: 20px;
  width: 100%;
  border: 2px solid #063D5D;
}

  .container4 {
  background-color: white;
  padding: 10px;
  text-align: center;
  margin-top: 20px;
  width: 100%;
  border: 2px solid #3EBBAD;

    }


  .container5 {
  background-color: white;
  padding: 10px;
  text-align: center;
  margin-top: 20px;
  width: 100%;
  border: 2px solid #0C704B;


  .autres-projets {
    font-family: 'Times New Roman', Times, serif;
    font-size: 20px;
  }

  .projects-container {
  display: flex;
  justify-content: space-between;
}

.project {
  flex: 1;
  text-align: center;
}

.image-container1,
.image-container2 {
  position: fixed;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.image-container1 {
  left: 10%;
}

.image-container2 {
  right: 0;
}

.image-container1:hover .left-image,
.image-container2:hover .right-image {
  position: static;
}

h5 {
  font-family: "Times New Roman", Times, serif;
  font-size: 14px;
  color: black;
}




.link {
    display: none; /* Masquer les liens */
  }

    /* Réinitialisation des marges et des espaces */
    body, h4 {
        margin: 0;
        padding: 0;
    }

h3.link {
  margin: 0;
}


.right-button {
    position: absolute;
    top: 0;
    right: 0;
  }

  h6 {
            color: #000;
            font-size: 18px;
            font-weight: bold;
            
        }

        h6:hover {
    /* Réinitialiser les styles d'hover */
    color: inherit;
    text-decoration: none;
  }


</style>


</head>
<body>
    <div class="navbar">
        <a href="#" style="color: #fff;">Accueil</a>
        <a href="#" style="color: #fff;">À propos</a>
        <a href="#" style="color: #fff;">Contact</a>
    </div>
    
    <div class="section">
      <h4 style="text-align: center; color:black;">Présentation de la page de rapprochement</h4>
      <h4 style="text-align: center; color: black;">entre les initiatives Digit_Hum et EVEille</h4>
        <a href="https://digithum.huma-num.fr/" target="_blank" class="button">
          <div>
            <img src="https://i.ibb.co/KwmSNsK/digit-hum.png" alt="">
          </a>
          <span></span> 
          <p>La recherche en humanités et sciences sociales est de plus en plus liée aux techniques du numérique et aux problématiques de diffusion des données sur le Web. Le besoin d’échanger sur les différents usages qui sont faits des humanités numériques et de structurer ces nouvelles pratiques à l'échelle de l'École normale supérieure et de l'Université Paris Sciences et Lettres est à l'origine de Digit_Hum.
            Ce site constitue une archive des humanités numériques en train de se faire et s'adresse aux chercheurs, ingénieurs, bibliothécaires, étudiants ou toute personne intéressée par ce domaine en évolution constante.
            Cette initiative collective est portée à l'ENS par le CAPHÉS (Marie-Laure Massot) et AOROC (Agnès Tricoche), en collaboration avec Julien Cavero (MOM).</p> 
        </a>
      </div>

    
        
      <div class="section">
        <a href="https://eveille.hypotheses.org/" target="_blank" class="button">
          <div>
            <img src="https://i.ibb.co/nmV1VhG/Capture-d-cran-2023-06-27-164305-1.png" alt="">
          </a>
          <span></span>    
        </a>
      </div>

    

    <h1 class="project-title"></h1>
    <div class="project-description">
        <p>
            Le projet EVEille (Exploration et Valorisation Electroniques des corpus En SHS) a pour objectif premier d’accompagner les jeunes chercheur.e.s ou les chercheur.e.s confirmé.e.s qui souhaitent s’initier aux Humanités au sein de pratiques de recherche nouvelles ou engagées de longue date.
        </p>
        <p>
            Il entend développer progressivement une réflexion collective critique sur les enjeux épistémologiques du virage du “tout-numérique” à l’heure actuelle, dans le monde académique notamment, afin de faire de l’outillage un réel lieu de réflexion sur les pratiques de la recherche, les visées et les orientations implicites introduites par le recours au traitement numérique des corpus.
        </p>
    </div>
</body>
    </div>
    <div class="container">
        <h1>Les flux RSS du projet EVEille</h1>
        <style>
            h1 {
                color: black;
            }
        </style>


        
    <div class="section">

      <div style="font-family: 'Times New Roman', Times, serif;">
        <h6 style="margin-bottom: 20px; font-size: 16px;; margin-top: 30px; color: black;">L'équipe EVEille propose des flux RSS triés par mots-clés.</h6>
      </div>
    
        <table>
          <tr>
            <td>
            <h3 class="link" onclick="openLinksInNewTab('itemList2')">Analyse</h3> 
            <ul id="itemList2" style="display: none;">
              <h3>Analyse du web</h3> 
              <ul id="itemList3"></ul>
              <h3>Analyse et traitement sémantique</h3>
              <ul id="itemList4"></ul>
            </td>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList5')">Annotation collaborative</h3>
              <ul id="itemList5" style="display: none;">
            </td>
          </tr>
          <tr>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList6')">Bibliothèque numérique</h3>
              <ul id="itemList6" style="display: none;">
              
            </td>
            <td>
            <h3 class="link" onclick="openLinksInNewTab('itemList7')">Cartographie et visualisation</h3>
              <ul id="itemList7" style="display: none;">
            </td>
          </tr>
          <tr>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList8')">Diffusion</h3>
              <ul id="itemList8" style="display: none;">
            </td>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList9')">Ecosophie</h3>
              <ul id="itemList9" style="display: none;">
            </td>
          </tr>
          <tr>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList10')">Ecriture</h3>
              <ul id="itemList10" style="display: none;">
            </td>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList11')">Edition numérique</h3>
              <ul id="itemList11" style="display: none;">
            </td>
          </tr>
          <tr>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList12')">Transcription</h3>
              <ul id="itemList12" style="display: none;">
            </td>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList13')">Enseignement, formation et recherche</h3>
              <ul id="itemList13" style="display: none;">
            </td>
          </tr>
          <tr>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList14')">Histoire, philosophie et controverse</h3>
              <ul id="itemList14" style="display: none;">
            </td>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList15')">Ingénierie</h3>
              <ul id="itemList15" style="display: none;">
            </td>
          </tr>
          <tr>
            <td>
              <h3 class="link" onclick="openLinksInNewTab('itemList16')">Manifestations</h3>
              <ul id="itemList16" style="display: none;">
            </td>
            <td>

              <h3 class="link" onclick="openLinksInNewTab('itemList17')">Science ouverte</h3> 
              <ul id="itemList17" style="display: none;">
                <h3>Base de donnée</h3> 
                <ul id="itemList18"></ul>
                <h3>Stcokage/Archivage</h3>
                <ul id="itemList19"></ul>
              </td>
            </td>
          </tr>
        </table>
      
        

<script>
         const parser = new RSSParser(); // Initialize the RSS Parser

function generateRSS() {
    const feedData = [
        {
            category: 'Jardin de la poésie',
            url: 'https://versunjardin.hypotheses.org/feed'
        },
        {
            category: 'La roue à livres',
            url: 'https://rouealivres.hypotheses.org/feed'
        },
        {
            category: 'Olio',
            url: 'https://olio.hypotheses.org/feed'
        },
        {
            category: 'Estrades',
            url: 'https://estrades.hypotheses.org/feed'
        }
    ];

    const rssArticles1 = document.getElementById('rssArticles1');
    const rssArticles2 = document.getElementById('rssArticles2');
    const rssArticles3 = document.getElementById('rssArticles3');
    const rssArticles4 = document.getElementById('rssArticles4');

    const fetchAndProcess = (category, url, articlesContainer) => {
        parser.parseURL(url, (err, feed) => {
            if (err) {
                articlesContainer.innerHTML = 'Erreur lors du chargement du flux RSS.';
                return;
            }

            const items = feed.items;

            if (items.length > 0) {
                const rssItems = items.map(item => {
                    const itemTitle = item.title;
                    const itemLink = item.link;
                    return `
                        <li>
                            <a href="${itemLink}" class="article-title">${itemTitle}</a>
                        </li>
                    `;
                }).join('');

                articlesContainer.innerHTML = `<ul>${rssItems}</ul>`;
            } else {
                articlesContainer.innerHTML = 'Aucun article trouvé.';
            }
        });
    };

    feedData.forEach(feed => {
        switch (feed.category) {
            case 'Jardin de la poésie':
                fetchAndProcess(feed.category, feed.url, rssArticles1);
                break;
            case 'La roue à livres':
                fetchAndProcess(feed.category, feed.url, rssArticles2);
                break;
            case 'Olio':
                fetchAndProcess(feed.category, feed.url, rssArticles3);
                break;
            case 'Estrades':
                fetchAndProcess(feed.category, feed.url, rssArticles4);
                break;
        }
    });
}

generateRSS();

function searchArticles() {
    const keyword = document.getElementById('keywordInput').value.toLowerCase();
    const searchResults = [];

    const processSearchResults = (category, articlesContainer) => {
        const articles = articlesContainer.getElementsByTagName('li');
        for (let i = 0; i < articles.length; i++) {
            const article = articles[i];
            const articleTitle = article.getElementsByTagName('a')[0].textContent.toLowerCase();
            const articleLink = article.getElementsByTagName('a')[0].getAttribute('href');
            if (articleTitle.includes(keyword)) {
                searchResults.push({
                    category: category,
                    title: articleTitle,
                    link: articleLink
                });
            }
        }
    };

    const rssArticlesContainers = [
        { category: 'Jardin de la poésie', container: rssArticles1 },
        { category: 'La roue à livres', container: rssArticles2 },
        { category: 'Olio', container: rssArticles3 },
        { category: 'Estrades', container: rssArticles4 }
    ];

    rssArticlesContainers.forEach(rssContainer => {
        processSearchResults(rssContainer.category, rssContainer.container);
    });

    displaySearchResults(searchResults);
}

function displaySearchResults(results) {
    const searchResultsContainer = document.getElementById('searchResults');
    let searchResultsHTML = '';

    if (results.length > 0) {
        searchResultsHTML += '<ul>';
        results.forEach(result => {
            searchResultsHTML += `
                <li>
                    <span class="category">${result.category}</span>:
                    <a href="${result.link}" class="article-title">${result.title}</a>
                </li>
            `;
        });
        searchResultsHTML += '</ul>';
    } else {
        searchResultsHTML = 'Aucun résultat trouvé.';
    }

    searchResultsContainer.innerHTML = searchResultsHTML;

}
function fetchZoteroCollection(collectionUrl, targetElementId) {
    fetch(collectionUrl)
        .then(response => response.json())
        .then(data => {
            data.forEach(item => {
                var title = item.data.title;
                var url = item.data.url;

                var listItem = document.createElement('li');
                listItem.innerHTML = '<a href="' + url + '">' + title + '</a>';

                document.getElementById(targetElementId).appendChild(listItem);
            });
        })
        .catch(error => console.log(error));
}

function createSubCollection(parentCollectionId, parentCollectionKey, subCollectionTitle) {
    var apiKey = 'yQraJQogHA89BHu3VJBKXLha';  // Replace with your Zotero API key

    var apiUrl = 'https://api.zotero.org/users/9668586/collections?key=' + apiKey;
    var userID = '9668586';  // Replace with your Zotero user ID

    var data = {
        'name': subCollectionTitle,
        'parentCollection': parentCollectionId
    };

    fetch(apiUrl.replace('9668586', userID), {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(subCollection => {
        console.log('Subcollection created:', subCollection);
    })
    .catch(error => console.log(error));
}

var apiKey = 'yQraJQogHA89BHu3VJBKXLha';  // Replace with your Zotero API key

var collectionUrls = [
    'https://api.zotero.org/users/9668586/collections/8PHW6BAG/items/top?v=3&key=' + apiKey,  // Analyse et traitement sémantique
    'https://api.zotero.org/users/9668586/collections/SMTFXD66/items/top?v=3&key=' + apiKey,  // Analyse du web (subcollection)
    'https://api.zotero.org/users/9668586/collections/NUFHR9J3/items/top?v=3&key=' + apiKey,  // Analyse et traitement sémantique (subcollection)
    'https://api.zotero.org/users/9668586/collections/BNWSQQWJ/items/top?v=3&key=' + apiKey,  // Annotation collaboratif
    'https://api.zotero.org/users/9668586/collections/7FUX4CMB/items/top?v=3&key=' + apiKey,  // Bibliothèque numérique
    'https://api.zotero.org/users/9668586/collections/N3NVZA75/items/top?v=3&key=' + apiKey,  // Cartographie et visualisation
    'https://api.zotero.org/users/9668586/collections/8E8H4TF7/items/top?v=3&key=' + apiKey,  // Diffusion
    'https://api.zotero.org/users/9668586/collections/22Z66JU7/items/top?v=3&key=' + apiKey,  // Ecosophie
    'https://api.zotero.org/users/9668586/collections/AS663FZC/items/top?v=3&key=' + apiKey,  // Ecriture
    'https://api.zotero.org/users/9668586/collections/2Z8DVDUV/items/top?v=3&key=' + apiKey,  // Edition numérique
    'https://api.zotero.org/users/9668586/collections/BRXJDSG4/items/top?v=3&key=' + apiKey,  // Transcription
    'https://api.zotero.org/users/9668586/collections/ZX4H5G27/items/top?v=3&key=' + apiKey,  // Enseignement, formation, recherche
    'https://api.zotero.org/users/9668586/collections/284A3JK5/items/top?v=3&key=' + apiKey,  // Histoire philosophie controverse
    'https://api.zotero.org/users/9668586/collections/XVHABQ5P/items/top?v=3&key=' + apiKey,  // Ingénierie
    'https://api.zotero.org/users/9668586/collections/BHDKDGB5/items/top?v=3&key=' + apiKey,  // Manifestations
    'https://api.zotero.org/users/9668586/collections/5BCUGMKP/items/top?v=3&key=' + apiKey,  // Sciences ouvertes
    'https://api.zotero.org/users/9668586/collections/UU2DPQJS/items/top?v=3&key=' + apiKey,  // Base de données (subcollection)
    'https://api.zotero.org/users/9668586/collections/N8GGXUG6/items/top?v=3&key=' + apiKey,  // Stockage archivage (subcollection)
    'https://api.zotero.org/users/9668586/collections/8WRX2F9V/items/top?v=3&key=' + apiKey   // Veille
];

collectionUrls.forEach((collectionUrl, index) => {
    fetchZoteroCollection(collectionUrl, 'itemList' + (index + 2));
});

document.addEventListener("DOMContentLoaded", function() {
    const imageContainers = document.querySelectorAll(".image-container");

    imageContainers.forEach(imageContainer => {
        imageContainer.addEventListener("mouseover", function() {
            this.classList.add("hovered");
        });

        imageContainer.addEventListener("mouseout", function() {
            this.classList.remove("hovered");
        });
    });
});

window.addEventListener('DOMContentLoaded', function() {
            var itemListIds = ['itemList1', 'itemList2', 'itemList3', 'itemList4', 'itemList5', 'itemList6', 'itemList7', 'itemList8', 'itemList9', 'itemList10', 'itemList11', 'itemList12', 'itemList13', 'itemList14', 'itemList15', 'itemList16', 'itemList17', 'itemList18', 'itemList19', 'itemList20'];
            for (var i = 0; i < itemListIds.length; i++) {
                var itemList = document.getElementById(itemListIds[i]);
                if (itemList) {
                    itemList.addEventListener('click', function(event) {
                        var target = event.target;
                        if (target.tagName === 'A') {
                            target.setAttribute('target', '_blank');
                        }
                    });
                }
            }
        });
       
        function openLinksInNewTab(itemListId) {
  var itemList = document.getElementById(itemListId).innerHTML;
  var newWindow = window.open('', '_blank');
  newWindow.document.write('<html><head><title></title><style>body { background-color: #016633; color: #fff; margin: 0; padding: 0; } .container { width: 100%; max-width: 1100px; margin: 20px auto; background-color: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); } h3 { color: #000; }</style></head><body style="background-color: #016633;"><div class="container">' + itemList + '</div></body></html>');
  newWindow.document.close();
}



  document.addEventListener('DOMContentLoaded', function() {
    var categories = document.querySelectorAll('.link');
    categories.forEach(function(category) {
      category.addEventListener('click', function() {
        var itemListId = this.getAttribute('data-itemlist');
        openLinksInNewTab(itemListId);
      });
    });
  });



  </script>
</body>
</html>